var fe=Object.defineProperty;var F=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var K=(t,e,o)=>e in t?fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,J=(t,e)=>{for(var o in e||(e={}))me.call(e,o)&&K(t,o,e[o]);if(F)for(var o of F(e))he.call(e,o)&&K(t,o,e[o]);return t};const ge=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function o(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(l){if(l.ep)return;l.ep=!0;const i=o(l);fetch(l.href,i)}};ge();var ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEJSURBVFiF7dYxToRAFMbx/0StiDGhJtmSAxAb8CrWHMR7eCEKYgOh4g40NLifxTqbYc2qxc7DxH0NE5rfN28ykwf/oApAgPI8v98Mz7JMgIqieDDHJWm/32u32wlQVVXRO3HEfQAfIvgfF3fOaZqmVYiu66IHOOK+whAmOEHLfTVNsx1+0vYoIb60/QxOsE4uivPzzkP8Ylfwil/x7/AnM7zv+3P3+yY6bva2b4r/8oWLg3NtuzF+54FhGFZ427Ymo9QLoLIsBWgcR1McgnP3Ieq6NsMfAS3LIukwvaZpaobjnBOgeZ5Xo1OSJPFxDuPR6cz2DDgLHOA1gDMr1Nct8Pb5fbfG/0R9AJuXK4WKqLCWAAAAAElFTkSuQmCC",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEySURBVFiF7ZdNioQwEIWf8QheVGj8AddeJS5EEMGFXkHP5JvN6HQbf5IYXQz9wI1U5X1VKUME/pn4+2jLc2xuvLZwaS6lPAK6TQTAoig4C39bcTsEAVBKybWegFAqfxJit3JTCJshXBYKguA8mB++lztBAAzDcKmq67rTLrjaDgJgnuckyaqqHoX4SB6GgSTZNM3yru/72yCWgYvjWIFo29aoE0IIIwBl2rcg3jtxBOF53jXzWWmaLguN46gFYWV+dMhkWaZA1HW9CeHc/Ahi/XU4a/uekiRRZqIsy/W032M+6/V6KRBW5gCMzWdFUbRVtdGBcwfEqdbXpiWJNIIHAPi+j2ma9tbWArCGEEK8x2vfNfcCjSBszc+CtSCumOskmAyC1RVfJ0kHwuX/xVdfPasfBbxsSfCEZAUAAAAASUVORK5CYII=";const pe=document.querySelector(".for-canvas"),G=document.querySelector(".pen"),x=document.querySelector(".pen-color"),k=document.querySelector(".pen-slider"),U=document.querySelector(".bucket-color"),V=document.querySelector(".eraser"),Se=document.querySelector(".clear"),P=document.querySelector(".save-image"),Ae=document.querySelectorAll(".header-icons-styles"),Le=document.querySelector(".selected-tools"),Ee=document.querySelector(".save-storage"),ke=document.querySelector(".load-storage"),Ce=document.querySelector(".delete-storage"),we=document.querySelector(".undo"),be=document.querySelector(".redo");document.querySelector("header");const $=document.querySelector(".diff-shapes"),z=document.querySelector(".diff-shapes-container"),xe=document.querySelectorAll(".shape"),c=document.createElement("canvas");c.id="canvas";const s=c.getContext("2d");let m=10,E="#fff",v="#000000",f=!1,_=!1,n=[],p=-1,y=[],u="pen",T=[];function r(t){Le.textContent=t}function W(){Ae.forEach(t=>{t.classList.contains("selected-icon-style")&&t.classList.remove("selected-icon-style")})}$.addEventListener("click",()=>{z.classList.toggle("invisible"),z.classList.toggle("scale-0"),z.classList.toggle("-translate-x-[70%]")});xe.forEach(t=>{t.addEventListener("click",()=>{W(),$.classList.add("selected-icon-style"),f=!1,c.style.cursor="crosshair",m=10,v=x.firstElementChild.value,k.firstElementChild.value=m,u=t.getAttribute("data-value"),r(t.getAttribute("data-value"))})});U.addEventListener("input",()=>{E=U.firstElementChild.value,f&&(v=E),S(),A()});x.addEventListener("input",()=>{v=x.firstElementChild.value});V.addEventListener("click",()=>{r("Eraser"),f=!0,c.style.cursor=`url(${ye}) 12 25, auto`,u="pen",W(),V.classList.add("selected-icon-style"),v=E,m=20,k.firstElementChild.value=m});k.addEventListener("change",()=>{m=k.firstElementChild.value});G.addEventListener("click",oe);we.addEventListener("click",ee);be.addEventListener("click",te);window.document.addEventListener("keydown",t=>{t.metaKey&&t.shiftKey&&t.key==="z"||t.ctrlKey&&t.key==="y"?te():(t.ctrlKey&&t.key==="z"||t.metaKey&&t.key==="z")&&ee()});function ee(){p<0||(p--,S(),A(),r("Undo"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))}function te(){n.length-1!==p&&(p++,S(),A(),r("Redo"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))}function oe(){u="pen",f=!1,r("pen"),c.style.cursor=`url(${ve}) 0 60,auto`,v=x.firstElementChild.value,m=10,W(),G.classList.add("selected-icon-style"),k.firstElementChild.value=m}function S(){c.width=window.innerWidth,c.height=window.innerHeight,s.fillStyle=E,s.fillRect(0,0,c.width,c.height),pe.appendChild(c)}function Te(){if(n.length===0)return;let t=c.offsetWidth,e=c.offsetHeight,o=n[0][0].h,d=n[0][0].w,l=t/d,i=e/o;for(let a=0;a<n.length;a++)for(let g=0;g<n[a].length;g++)n[a][g].w=t,n[a][g].h=e,n[a][g].x*=l,n[a][g].y*=i}window.addEventListener("resize",()=>{S(),console.log("Hello"),Te(),A()});S();oe();function A(){for(let t=0;t<=p;t++)if(!!n[t])for(let e=1;e<n[t].length;e++)n[t][e].shape==="pen"?(s.beginPath(),s.moveTo(n[t][e-1].x,n[t][e-1].y),s.lineWidth=n[t][e-1].size,s.lineCap="round",n[t][e-1].erase?s.strokeStyle=E:s.strokeStyle=n[t][e-1].color,s.lineTo(n[t][e].x,n[t][e].y),s.stroke()):(s.moveTo(n[t][e-1].x,n[t][e-1].y),s.beginPath(),se(n[t]))}Se.addEventListener("click",()=>{S(),n=[],r("Canvas Cleared"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});function C(t,e,o,d,l,i,a,g,de){const ue={x:t,y:e,size:o,color:d,erase:l,h:i,w:a,shape:g};n.length!==p&&(n=n.splice(0,p+1)),de.push(ue)}function H(t){const e=c.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top,h:e.height,w:e.width}}function Y(t){const e=c.getBoundingClientRect();return{x:t.changedTouches[0].clientX-e.left,y:t.changedTouches[0].clientY-e.top,h:e.height,w:e.width}}function L(t,e,o,d,l,i){switch(t){case"rectangle-stroke":{s.strokeStyle=i,s.strokeRect(e,o,d,l);break}case"rectangle-fill":{s.fillStyle=i,s.fillRect(e,o,d,l);break}case"circle-stroke":{s.lineCap="round",s.arc(e,o,Math.max(l,d),0,2*Math.PI,!0),s.strokeStyle=i,s.stroke();break}case"circle-fill":{s.lineCap="round",s.fillStyle=i,s.arc(e,o,Math.max(l,d),0,2*Math.PI,!0),s.fill();break}case"line":{s.lineCap="round",s.strokeStyle=i,s.lineTo(e,o),s.stroke();break}default:console.log("Something Went Wrong! The Chosen Shape Is Not In Option")}s.closePath()}function se(t){if(t.length<2)return;let e={x:t[0].x,y:t[0].y},o={x:t[t.length-1].x,y:t[t.length-1].y},d=t[0].color,l=t[0].shape,i=o.x-e.x,a=o.y-e.y;if(s.lineWidth=t[0].size,l==="line"){s.moveTo(e.x,e.y),L(l,o.x,o.y,i,a,d);return}if(l.includes("circle")){i=Math.abs(i),a=Math.abs(a);let g=Math.sqrt(a*a+i*i);s.moveTo(e.x+g,e.y),L(l,e.x,e.y,g,0,d);return}a>0&&i>0?L(l,e.x,e.y,i,a,d):a>0?L(l,o.x,e.y,Math.abs(i),a,d):i>0?L(l,e.x,o.y,i,Math.abs(a),d):L(l,o.x,o.y,Math.abs(i),Math.abs(a),d)}function ne(t,e){_=e;const o=e?H(t):Y(t);s.moveTo(o.x,o.y),s.beginPath(),s.lineWidth=m,s.lineCap="round",s.strokeStyle=v,f&&(s.strokeStyle=E),y=[],u!=="pen"&&(T=[],C(o.x,o.y,m,v,f,o.h,o.w,u,y),C(o.x,o.y,m,v,f,o.h,o.w,u,T)),e?c.addEventListener("mousemove",q):c.addEventListener("touchmove",q)}function q(t){const e=_?H(t):Y(t);if(u==="pen"){s.lineTo(e.x,e.y),s.stroke(),C(e.x,e.y,m,v,f,e.h,e.w,u,y);return}else C(e.x,e.y,m,v,f,e.h,e.w,u,T),S(),A(),s.beginPath(),s.moveTo(e.x,e.y),se(T)}function le(t,e){if(u!=="pen"){const o=e?H(t):Y(t);C(o.x,o.y,m,v,f,o.h,o.w,u,y),n.push(y),p=n.length-1,S(),A()}else if(y.length!==0){if(y.length===1){const o=J({},y[0]);o.x+=1e-4,y.push(o)}n.push(y),p=n.length-1}e?c.removeEventListener("mousemove",q):c.removeEventListener("touchmove",q)}c.addEventListener("mousedown",t=>ne(t,!0));c.addEventListener("mouseup",t=>le(t,!0));c.addEventListener("touchstart",t=>ne(t,!1));c.addEventListener("touchend",t=>le(t,!1));Ee.addEventListener("click",()=>{localStorage.setItem("saveCanvas",JSON.stringify(n)),r("Canvas Saved"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});ke.addEventListener("click",()=>{localStorage.getItem("saveCanvas")?(n=JSON.parse(localStorage.saveCanvas),p=n.length-1,r("Canvas Loaded"),A(),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)):(r("Canvas Not Found"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3))});Ce.addEventListener("click",()=>{localStorage.removeItem("saveCanvas"),r("Cleared Local Storage"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});P.addEventListener("click",()=>{P.firstElementChild.href=c.toDataURL("image/jpeg",1),P.firstElementChild.download="paint-example.jpeg",r("Image File Saved"),setTimeout(f?()=>r("eraser"):()=>r(u),1e3)});const qe=document.querySelector(".bucket-set"),O=document.querySelector(".bucket-color-wrapper"),Ie=document.querySelector(".pen-tool"),R=document.querySelector(".pen-tools-wrapper"),j=document.querySelector(".drop-menu"),D=document.querySelector(".drop-menu-items-container"),b=document.querySelector(".switch-theme"),Ne=document.querySelector("body"),Q=document.querySelector(".tools-container"),B=document.querySelector(".hide-unhide");let h=!1;function Me(){h=localStorage.getItem("isDarkMode"),h===null?h=!1:h==="true"?h=!0:h=!1,h==!0&&(ie(),h=!0,localStorage.setItem("isDarkMode",h))}Me();qe.addEventListener("click",()=>{O.classList.toggle("invisible"),O.classList.toggle("scale-0"),O.classList.toggle("-translate-x-[100%]")});Ie.addEventListener("click",()=>{R.classList.toggle("invisible"),R.classList.toggle("scale-0"),R.classList.toggle("-translate-x-[70%]")});j.addEventListener("click",()=>{j.firstElementChild.classList.toggle("-rotate-90"),D.classList.toggle("translate-x-[45%]"),D.classList.toggle("-translate-y-[70%]"),D.classList.toggle("scale-0")});b.addEventListener("click",ie);function ie(){b.firstElementChild.classList.contains("fa-moon")?(b.firstElementChild.classList.replace("fa-moon","fa-sun"),h=!1):(h=!0,b.firstElementChild.classList.replace("fa-sun","fa-moon")),localStorage.setItem("isDarkMode",h),Ne.classList.toggle("darkMode")}B.addEventListener("click",()=>{Q.classList.toggle("left-[1.5rem]"),Q.classList.toggle("left-[-6rem]"),B.firstElementChild.classList.toggle("fa-angles-left"),B.firstElementChild.classList.toggle("fa-angles-right")});document.querySelector("canvas");const Pe=document.querySelector(".sticky-container"),ze=document.querySelector(".add-notes"),Oe=document.querySelector(".save-storage"),Re=document.querySelector(".load-storage"),De=document.querySelector(".delete-storage");let I=0,N=0,Z=0,X,w=null,Be=11;function re(t,e,o){w=o,w.style.zIndex=Be++,e?(I=t.clientX-o.offsetLeft,N=t.clientY-o.offsetTop,X=!0):(I=t.changedTouches[0].clientX-o.offsetLeft,N=t.changedTouches[0].clientY-o.offsetTop),e?window.addEventListener("mousemove",M):window.addEventListener("touchmove",M)}function M(t){let e,o;X?(o=t.clientY-N,e=t.clientX-I):(o=t.changedTouches[0].clientY-N,e=t.changedTouches[0].clientX-I),w.style.top=o+"px",w.style.left=e+"px"}function ae(t,e){e&&(X=!1),e?window.removeEventListener("mousemove",M):window.removeEventListener("touchmove",M),w=null}function We(t){t.addEventListener("mousedown",e=>re(e,!0,t)),t.addEventListener("mouseup",e=>ae(e,!0)),t.addEventListener("drag",()=>!1)}function He(t){t.addEventListener("touchstart",e=>re(e,!1,t)),t.addEventListener("touchend",e=>ae(e,!1)),t.addEventListener("drag",()=>!1)}function Ye(t){t.addEventListener("click",()=>{t.parentElement.parentElement.parentElement.parentElement.remove()})}function Xe(t){t.addEventListener("click",()=>{let e=t.parentElement.parentElement.parentElement.lastElementChild;e.style.height=="8rem"?(e.style.height="0rem",e.style.padding="0rem"):(e.style.height="8rem",e.style.padding="0.25rem 0rem")})}ze.addEventListener("click",ce);function ce(t){Z++;let e=document.createElement("div");e.classList.add("sticky-wrapper"),e.setAttribute("data-no",`${Z-1}`),t.heading!==void 0?(e.style.top=t.top+"px",e.style.left=t.left+"px",e.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="${t.heading}" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class="" placeholder="type here...">${t.content}</textarea>
        </div>
    </div>`):e.innerHTML=`
    <div class="sticky">
        <div class="sticky-top ">
            <input type="text" value="" class="sticky-heading" placeholder="Note...">
            <div class="sticky-btns">
                <button class="minimize-btn " title="minimize">
                    <i class="fa-solid fa-minus "></i>
                </button>
                <button class="remove-btn " title="remove">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
        <div class="sticky-content" style="height: 8rem; padding:0.25rem 0rem;">
            <textarea name="content" class=""  placeholder="type here..."></textarea>
        </div>
    </div>`,Pe.appendChild(e),We(e),He(e),Ye(e.querySelector(".remove-btn")),Xe(e.querySelector(".minimize-btn"))}function Fe(){let t=document.querySelectorAll(".sticky-wrapper"),e=[];t.forEach(o=>{let d={heading:o.querySelector(".sticky-heading").value,content:o.querySelector("textarea").value,top:o.offsetTop,left:o.offsetLeft};e.push(d)}),localStorage.setItem("saveStickyNotes",JSON.stringify(e))}function Ke(){localStorage.getItem("saveStickyNotes")&&JSON.parse(localStorage.saveStickyNotes).forEach(e=>{ce(e)})}Oe.addEventListener("click",Fe);Re.addEventListener("click",Ke);De.addEventListener("click",()=>{localStorage.removeItem("saveStickyNotes")});
